<html>
<head>
<title>Testing Kubernetes locally - Octopus Deploy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在本地测试Kubernetes-Octopus部署</h1>
<blockquote>原文：<a href="https://octopus.com/blog/testing-kubernetes-locally#2022-08-09">https://octopus.com/blog/testing-kubernetes-locally#2022-08-09</a></blockquote>
                        <p>Kubernetes是一个复杂的平台，通常部署在许多服务器上以实现高可用性。然而，创建多节点集群对于执行本地测试的单个DevOps工程师来说通常是不切实际的。</p>

<p>幸运的是，在一台机器上安装开发Kubernetes集群有很多选择。这允许DevOps工程师在部署到共享集群之前验证他们的代码和部署过程的许多方面。</p>

<p>在本文中，我介绍了DevOps工程师在运行开发Kubernetes集群时可以使用的一些选项。</p>

<h2 id="minikube">迷你库贝</h2>

<p>minikube是一个跨平台工具，用于创建单节点Kubernetes集群。它还为<a href="https://github.com/minikube-ci/examples" rel="nofollow">提供了许多例子，展示了如何使用持续集成(CI)服务器</a>来配置它，允许作为自动化测试的一部分来创建和销毁短暂的测试集群。</p>

<p>在<a href="https://octopus.com/blog/minikube-on-windows">在Windows上安装minikube</a>这篇文章中学习如何在Windows上安装minikube并将其连接到Octopus。</p>

<h2 id="kind">种类</h2>

<p><a href="https://kind.sigs.k8s.io/" rel="nofollow"> kind </a>，在Docker中代表Kubernetes，是一个跨平台工具，支持创建多节点Kubernetes集群，全部作为Docker容器托管。可能需要一段时间来理解Docker运行Kubernetes来编排Docker容器的概念，但该工具工作良好，并且比其他选项更有优势，因为它不需要Windows和macOS中的专用虚拟机。</p>

<p>你可以在文章<a href="https://octopus.com/blog/kubernetes-with-kind">Kubernetes testing with kind</a>中找到更多关于集成kind集群和Octopus的信息。</p>

<h2 id="microk8s">MicroK8s</h2>

<p>MicroK8s是Windows、Linux和macOS上本地开发的一个选项，也是带有企业支持和安全维护选项的生产环境的一个选项。MicroK8s支持<a href="https://microk8s.io/docs/addons" rel="nofollow">插件</a>，提供了一种方便的方式来安装常见的功能，如图像注册表、仪表盘、入口控制器等等。</p>

<h2 id="k3s">K3s</h2>

<p>K3s 是由Rancher创建的一个轻量级的、生产就绪的<a href="https://rancher.com/docs/k3s/latest/en/installation/installation-requirements/#operating-systems" rel="nofollow">Kubernetes Linux</a>发行版。K3s可以用<a href="https://github.com/k3d-io/k3d" rel="nofollow"> k3d </a>在单台机器上创建多节点集群，为创建开发集群提供了便捷的解决方案。</p>

<p>了解如何整合牧场主和章鱼在岗位<a href="https://octopus.com/blog/deploy-to-rancher-with-octopus">部署到牧场主与章鱼部署</a>。</p>

<h2 id="k0s">k0s</h2>

<p><a href="https://k0sproject.io/" rel="nofollow"> k0s </a>是另一个轻量级的、生产就绪的<a href="https://docs.k0sproject.io/v1.23.6+k0s.2/system-requirements/#host-operating-system" rel="nofollow">Kubernetes Linux</a>发行版，带有<a href="https://docs.k0sproject.io/v1.23.6+k0s.2/experimental-windows/" rel="nofollow">对Windows server </a>的实验性支持。它内置支持<a href="https://docs.k0sproject.io/v1.23.6+k0s.2/k0s-in-docker/#run-k0s-in-docker" rel="nofollow">在Docker </a>之上创建集群，用于Windows、Linux和macOS上的本地开发。</p>

<h2 id="docker-desktop">Docker桌面</h2>

<p><a href="https://docs.docker.com/desktop/kubernetes/" rel="nofollow"> Docker桌面</a>包括一个独立的Kubernetes服务器和客户端，适用于Windows、Linux和macOS。与这篇文章中列出的其他选项不同，Docker Desktop是<a href="https://docs.docker.com/subscription/" rel="nofollow">商业软件</a>，在某些情况下需要付费。</p>

<p>鉴于Docker Desktop是支持在Windows中启用Docker引擎的方法，许多开发人员可能已经拥有启动开发Kubernetes集群所需的工具，这使其成为一个方便的选择。</p>

<h2 id="conclusion">结论</h2>

<p>由于开源社区对Kubernetes的热切采用，DevOps工程师有了广泛的选择，可以在他们的本地机器上快速启动开发集群，并在CI测试中创建临时集群。虽然Linux用户有最多的选择，但对于Windows和macOS用户来说，仍然有大量活跃且维护良好的项目。因此，通常只需一两个命令和几分钟时间，DevOps工程师就可以启动一个本地集群进行测试。</p>

<h2 id="learn-more">了解更多信息</h2>

<p>如果你想在AWS平台上构建和部署容器化的应用程序，比如EKS和ECS，请查看一下<a href="https://octopusworkflowbuilder.octopus.com/#/" rel="nofollow"> Octopus Workflow Builder </a>。构建器使用GitHub Actions工作流构建的示例应用程序填充GitHub存储库，并使用示例部署项目配置托管的Octopus实例，这些项目展示了最佳实践，如漏洞扫描和基础架构代码(IaC)。</p>

<p>愉快的部署！</p>

                    
                    
</body>
</html>