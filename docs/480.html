<html>
<head>
<title>Octopus Deploy 3.1 Pre-Release - Octopus Deploy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Octopus Deploy 3.1预发布版- Octopus Deploy</h1>
<blockquote>原文：<a href="https://octopus.com/blog/octopus-deploy-3.1-pre-release#2017-01-06">https://octopus.com/blog/octopus-deploy-3.1-pre-release#2017-01-06</a></blockquote>
                        <p>Octopus Deploy 3.1现在<a href="/downloads/3.1.0">作为预发布</a>提供。</p>

<h2>特征</h2>



<h2>。NET 4.5</h2>

<p>Octopus Deploy 3.1需要。NET 4.5安装在<em>服务器</em>上。而触手<em>不会</em>要求。NET 4.5，如果您希望使用<a href="#tls"> TLS 1.2 </a>，则需要安装它。</p>

<h2>报告<a name="reporting"/></h2>

<p>Octopus 3.1增加了一个报告特性，使用您喜欢的报告工具，可以很容易地根据您的部署历史生成报告。</p>

<p>目前Octopus没有在任何地方的用户界面中显示这些报告数据，但是我们确实公开了原始数据，您可以在您最喜欢的报告工具中查询或使用这些数据。</p>

<p>原始数据以两种方式提供:</p>

<ul>
<li>XML提要，可以由Microsoft Excel或PowerBI(首选)等工具使用，或者以编程方式使用</li>
<li>作为Octopus SQL数据库中的一个表</li>
</ul>

<p>这些数据允许您报告以下问题:</p>

<ul>
<li>我们在多长时间内完成了多少次部署？针对哪些项目或环境？</li>
<li>有多少部署成功了？多少人失败了？</li>
<li>部署平均需要多长时间？</li>
</ul>

<p>为了帮助您开始，我们提供了一个示例Excel电子表格，您可以将其连接到自己的Octopus服务器。</p>

<p><img src="../Images/2ff22015aa5b660485a48883d53a7461.png" alt="Sample Report" data-original-src="https://i.octopus.com/blog/migrated/2015-08-27_octopus_reporting_vvbot4.jpg"/></p>

<p>有关更多信息，请参见我们的<a href="http://docs.octopusdeploy.com/display/OD/Reporting">报告文档</a>。</p>

<h2>触手升级和TLS 1.2 <a name="tls"/></h2>

<p>我们最近宣布<a href="http://octopusdeploy.com/blog/octopus-3.1-will-be-.net-4.5"> Octopus 3.1将要求。网4.5 </a>。既然我们要搬到。NET 4.5，章鱼/触手通讯可以用TLS 1.2。</p>

<p>当建立连接时，Octopus和触手会协商TLS 1.0、1.1和1.2中的最佳协议。但是，您可以通过配置SChannel来告诉Windows禁用TLS 1.0或1.1(或任何其他协议)，这将覆盖Octopus/触手使用的设置。一个允许你这样配置的免费工具是<a href="https://www.nartac.com/Products/IISCrypto"> IISCrypto </a></p>

<p>如果您只想成为TLS 1.2，流程将是:</p>

<ul>
<li>将Octopus升级到3.1</li>
<li>将触手升级到3.1</li>
<li>使用工具/修改注册表来禁用TLS 1.0和1.1</li>
</ul>

<p>需要注意的一点是，如果你已经有了3.0版本的触手，就不需要升级到3.1版本，因为这些变化不是强制性的。在环境标签上你会看到升级触手的按钮，但是如果出于某种原因你需要坚持触手的3.0版本，你可以。</p>

<h2>Azure步骤类型<a name="azure-step-types"/> <a/></h2>

<p>正如Paul最近<a href="http://octopusdeploy.com/blog/azure-changes">发布的</a>，对于3.1，我们正在改变部署到Azure的方法。</p>

<p>我们引入了三种新的步骤类型:</p>

<ul>
<li>Azure云服务</li>
<li>Azure Web应用程序</li>
<li>Azure PowerShell</li>
</ul>

<p><img src="../Images/de2b2334da02fa5928843c793d9f73b5.png" alt="Azure Step Types" data-original-src="https://i.octopus.com/blog/migrated/2015-08-27_azure_step_types_n0parf.png"/></p>

<p>希望我们保留了3.0中最好的变化，但重新启用了一些自动基础架构供应场景。</p>

<p>例如，查看云服务模板，您会注意到我们仍然有帐户，用于选择服务和存储帐户的下拉菜单仍然存在，但是所有字段都可以切换为绑定到变量表达式(如下图中的存储帐户和插槽)。</p>

<p><img src="../Images/cb8bb2097511f9e8d703f568e89a4983.png" alt="Cloud Service Template" data-original-src="https://i.octopus.com/blog/migrated/2015-08-27_cloud_service_template_zralfa.png"/></p>

<p>任何作为云服务或Web应用程序步骤的一部分运行的PowerShell都将自动加载Azure PowerShell模块，并选择与所选帐户关联的订阅。</p>

<p>我们还将捆绑的Azure PowerShell模块更新到版本<a href="https://github.com/Azure/azure-powershell/releases/tag/v0.9.5-July2015"> 0.9.5 </a>。</p>

<h4>迁移2.6 Azure步骤</h4>

<p>对于3.0，我们无法将2.6 Azure云服务步骤迁移到新的Azure目标中。在3.1中，任何现有的Azure步骤都可以从2.6中迁移出来，并且无需修改就可以部署。</p>

<h4>反对3.0目标</h4>

<p>我们还没有删除3.1中的3.0 Azure目标。我们添加了一条警告消息，表明它们已被弃用。虽然我们没有严格的删除期限，但我们不打算长期支持这两种模式，我们鼓励您开始将3.0目标转移到3.1步骤类型中。我们向那些因这些变化而带来不便的人表示歉意，并希望您能理解。这不是一个轻率的决定，但我们认为这是未来的最佳选择。</p>

<h4>部署到Web应用程序的子目录</h4>

<p>自从我们增加了部署到Azure Web Apps的功能后，一个非常受欢迎的功能就是部署到站点根目录以外的位置。因此，我们在Azure Web App步骤中添加了一个“物理路径”字段。</p>

<p><img src="../Images/e6afa88b47ed508844a2aa234bbf935c.png" alt="Web App Physical Path" data-original-src="https://i.octopus.com/blog/migrated/2015-08-27_azure_web_app_path_kasowy.png"/></p>

<p>这将支持从现有网站中独立部署Azure Web作业等场景。</p>

<h2>概括起来</h2>

<p>这是一个预发布版本，所以我们鼓励那些一直在等待这些特性的人抓住它并尝试一下。我们的目标是在接下来的两周内正式发布。</p>

<p>我们知道你们很多人一直在等待一些即将到来的特性，比如分支支持和多租户。接下来是这些。我们的目标是3.1版本，但是Azure的改变占了先机。我们已经相应地更新了我们的<a href="/roadmap">路线图</a>,并且已经在开发3.2的特性。</p>

<p>愉快的部署！</p>

                    
                    
</body>
</html>