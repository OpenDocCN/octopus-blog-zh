<html>
<head>
<title>Featured Step Template: HTTP - Test URL - Octopus Deploy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>特色步骤模板:HTTP -测试URL - Octopus Deploy</h1>
<blockquote>原文：<a href="https://octopus.com/blog/featured-step-template-http-test-url#2015-09-25">https://octopus.com/blog/featured-step-template-http-test-url#2015-09-25</a></blockquote>
                        <p>无论是预热web服务器还是简单地测试一个新的部署，点击一个URL并验证结果是web应用程序部署过程中常见的事情。</p>

<p>虽然总是有可能用Octopus Deploy为这个编写一个<em> PowerShell </em>步骤，<a href="https://github.com/sportingsolutions"> Sporting Solutions </a>已经足够友好地将这个打包到一个易于重用的模板中，用于<a href="https://library.octopusdeploy.com"> Octopus Deploy库</a>。</p>

<p>因为这是我们第一次在Octopus Deploy博客上展示贡献的step模板，所以让我们来看看如何将它引入到您的Octopus项目中。</p>

<h2>导入模板</h2>

<p>首先要做的是访问库并找到模板。你可以在这里找到<a href="http://library.octopusdeploy.com/#!/step-template/actiontemplate-http-test-url"> HTTP - Test URL模板。</a></p>

<p><img src="../Images/00a4f43e2e658fd00cc45ca6ab82fc5d.png" alt="Library view" data-original-src="https://i.octopus.com/blog/migrated/LibraryView_fsnnq8.png"/></p>

<p>该库本身提供了模板的快速概述，以便您可以确定它是否符合您的要求；不出所料，这个页面上最重要的是绿色的<strong>“复制到剪贴板”</strong>按钮。</p>

<p>现在按它来检索描述模板的JSON文档。</p>

<p>接下来，登录你的Octopus Deploy服务器，访问<em>库&gt;步骤模板</em>。在页面的右上角有一个<em>导入</em>链接——点击它，然后粘贴你刚刚从网站上复制的JSON。</p>

<p><img src="../Images/b93834fd9f86887c6c33c459988ae02f.png" alt="Import dialog with JSON included" data-original-src="https://i.octopus.com/blog/migrated/ImportDialog_pkfgbb.png"/></p>

<p>一旦您点击了<em> Import </em>，就会显示模板——如果您愿意，现在可以调整参数或脚本，但除此之外，模板已经准备好用于您的部署过程。</p>

<p><img src="../Images/cd87c6ca869c827579313177aa4d8541.png" alt="Template in library" data-original-src="https://i.octopus.com/blog/migrated/TemplateView_dpnyg0.png"/></p>

<h2>使用模板</h2>

<p>假设您有一个安装web app的部署流程的项目，第一步是打开<em>项目&gt;流程</em>选项卡，并选择<em>添加步骤</em>按钮。在显示的列表底部，您会看到刚刚导入的模板的名称。</p>

<p><img src="../Images/d426c8f43832702fbc00812d192d9dcc.png" alt="Process view" data-original-src="https://i.octopus.com/blog/migrated/ProcessView_jrtlh6.png"/></p>

<p>当您单击模板名称来创建新步骤时，您将看到每个模板参数的输入字段。在<em> HTTP - Test URL </em>的情况下，这是要测试的URL、预期的状态代码和超时值。</p>

<p><img src="../Images/38ed49795cf35771160d2371ef789cf5.png" alt="Step view" data-original-src="https://i.octopus.com/blog/migrated/StepView_lt5pqs.png"/></p>

<p>本例中的URL等步骤模板参数的工作方式就像普通的Octopus步骤参数一样——它们可以使用<code>#{Variable}</code>替换来绑定，每个参数本身作为一个变量公开，可以在其他地方使用，例如在<em> PowerShell </em>脚本中。</p>

<h2>结果！</h2>

<p>最后——这是最激动人心的部分:)—当您创建并部署项目的新版本时，该步骤将会运行，结果将会打印到部署日志中。</p>

<p><img src="../Images/ff5bb227ca5ebbb2b8651a821f6e6b90.png" alt="Success!" data-original-src="https://i.octopus.com/blog/migrated/Success_fqiuda.png"/></p>

<p>我们真的很喜欢<em> HTTP - Test URL </em>模板，因为尽管它非常简单，但它是使用step模板和<a href="https://library.octopusdeploy.com"> Octopus Deploy库</a>可以做什么的一个很好的例子。如果您还没有浏览过这个库，您可能会惊讶地发现有多少模板已经可用了。</p>

<blockquote>
  <p>如果你已经在编写step模板并想与Octopus社区分享，现在参加我们的<a href="http://octopusdeploy.com/blog/build-octopus-library">库竞赛</a>还不算太晚；如果你提交一个模板，并在6月底前被接受，你就可以自豪地拥有一个Octopus Deploy马克杯！</p>
</blockquote>

<p>愉快的部署！</p>

                    
                    
</body>
</html>