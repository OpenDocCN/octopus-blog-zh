<html>
<head>
<title>SSL 3.0 "POODLE" and Octopus Deploy - Octopus Deploy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>SSL 3.0“狮子狗”和Octopus部署- Octopus部署</h1>
<blockquote>原文：<a href="https://octopus.com/blog/poodle#2021-02-09">https://octopus.com/blog/poodle#2021-02-09</a></blockquote>
                        <p>有一个新发现的名为<a href="https://www.openssl.org/~bodo/ssl-poodle.pdf"> POODLE </a>的安全漏洞:</p>

<blockquote>
  <p>上述攻击需要建立SSL 3.0连接，因此在客户端或服务器(或两者)中禁用SSL 3.0协议可以完全避免这种攻击。如果任何一方只支持SSL 3.0，那么所有的希望都没有了，需要一个严肃的更新来避免不安全的加密。如果SSL 3.0既没有被禁用，也不是唯一可能的协议版本，那么如果客户端使用降级舞蹈来实现互操作性，则攻击是可能的。</p>
</blockquote>

<p>正如我们在<a href="https://octopusdeploy.com/blog/heartbleed"> Heartbleed和Octopus Deploy </a>的帖子中所讨论的，我们使用。NET framework的<code>SslStream</code>类，用于在Octopus部署服务器和触手部署代理通信时建立安全连接。</p>

<p>创建<code>SslStream</code>时，指定要使用的协议。<a href="http://msdn.microsoft.com/en-us/library/system.security.authentication.sslprotocols(v=vs.100).aspx">。NET 4.0支持SSL 2.0、3.0和TLS 1.0 </a>。<a href="http://msdn.microsoft.com/en-us/library/system.security.authentication.sslprotocols(v=vs.110).aspx">。NET 4.5支持SSL 2.0、3.0和TLS 1.0、1.1和1.2 </a>。</p>

<p>有趣的是，默认的协议值(在两者中。NET 4.0和4.5)是<code>Tls | Ssl3</code>。换句话说，TLS 1.0是首选，但是如果客户机/服务器只支持SSL 3.0，那么它将会退回到那个版本。正如本文所讨论的，即使您的客户机/服务器支持TLS，这也是一个问题，因为攻击者可以强制降级。</p>

<p>但是有一个好消息——在Octopus中，当我们构造我们的<code>SslStream</code>时，我们指定了要使用的协议—<strong>,我们特别限制了与TLS 1.0 </strong>的连接(Octopus运行于。NET 4.0所以我们还做不到TLS 1.1/1.2)。由于我们同时控制了客户端和服务器，所以我们不需要担心退回到SSL 3.0，所以我们不允许这样做。</p>

<p>我们实际上已经做了很长时间了。2013年1月，我们发布了一个名为<a href="https://github.com/OctopusDeploy/Halibut"> Halibut </a>的开源项目，这是一个原型，最终演变成了我们在章鱼和触手之间使用的通信堆栈。即使在那时，我们也明确表示只支持TLS:</p>

<pre><code>ssl.AuthenticateAsServer(serverCertificate, true, SslProtocols.Tls, false);
</code></pre>

<p>Octopus web门户(用于管理Octopus服务器的HTML web前端)的情况略有不同。门户托管在HTTP.sys之上，http . sys是IIS背后的内核模式驱动程序。开箱即用的门户使用HTTP，但是如果您喜欢的话，您可以<a href="http://docs.octopusdeploy.com/display/OD/Expose+the+Octopus+web+portal+over+HTTPS">将您的web门户配置为通过HTTPS可用。</a></p>

<p>据我所知，IIS和HTTP.sys使用SChannel支持的任何协议，这意味着它们将允许SSL 3.0。看起来需要<a href="https://www.digicert.com/ssl-support/iis-disabling-ssl-v3.htm">改变注册表</a>来禁用SChannel中的SSL 3.0，以防止IIS/HTTP.sys使用它。</p>

<p>微软也有一个<a href="https://technet.microsoft.com/en-us/library/security/3009008.aspx">安全顾问</a>，使用组策略来禁用SSL 3.0，但它似乎专注于Internet Explorer而不是IIS。</p>

<p><strong>TL；章鱼/触手的交流不受狮子狗的影响。门户网站(如果你在HTTPS公开它)可能是，就像你在HTTPS使用IIS服务的任何其他网站可能是。</strong></p>

<p>和往常一样，特洛伊·亨特对狮子狗臭虫有一篇很好的报道。</p>

                    
                    
</body>
</html>