# DevOps - Octopus 部署简介

> 原文：<https://octopus.com/blog/introduction-to-devops>

DevOps 是一个很大的术语，涉及面很广，适用于许多围绕和支持软件开发的事物。

对于门外汉来说，DevOps 可能很难理解。是一种文化吗？开发过程的指导方针？一套工具？某人的工作？

所有这些问题的答案都是肯定的。以上都是。

在本帖中，我们从表面上看一下构成 DevOps 的各个部分。我们探索概念、工具、独特的角色，并解释 Octopus 的适用范围。

## DevOps 作为一个概念

在现代开发中，尽可能快速可靠地交付软件和更新比以往任何时候都更加重要。

DevOps 背后的概念是关于消除软件交付中的障碍。

典型的障碍包括:

*   手动流程
*   办公室政治
*   反作用支持工作流

克服这些障碍的原因很简单:如果产品是软件，那么所有的过程都应该致力于交付软件，而不是反对软件。

让我们看看在考虑 DevOps 方法时我们必须考虑什么。

## DevOps 作为一种文化

在传统的组织中，开发人员和那些支持他们的人(比如操作或数据库团队)通常是独立的实体，很少交互。

这意味着每个团队都有自己的信念、责任和优先事项。虽然并不矛盾，但在追求业务最佳化的过程中，这些优先级经常会发生冲突。

将 DevOps 作为一种文化意味着通过引入共同的目标来消除这种摩擦。

实现这一目标的方法可能会有所不同，这取决于人们的工作方式有多根深蒂固。但是，目标是确保所有团队:

*   通过清晰、诚实的沟通和反馈建立信任
*   在产品的整个生命周期中进行协作
*   拥有快速决策所需的信息
*   敢于冒险，不怕失败，不怕指责
*   对产品的成功负有集体责任
*   回顾在下一个生命周期中哪些可行，哪些不可行

## 为什么自动化对开发运维如此重要

在 DevOps 中，能自动化就应该自动化。

自动化的[好处很简单:](https://octopus.com/devops/continuous-delivery/automate-everything/)

*   团队可以更加关注产品
*   结果是可重复和可预测的
*   团队可以更快更灵活地应对问题

因此，持续集成和持续部署(CI/CD)成为 DevOps 的重要组成部分也就不足为奇了。

## 开发运维在行动:开发运维的不同方法

鉴于 DevOps 的概念性本质，组织有许多方法来采用它。

Alex Yates 在他关于“DevOps 工程师”命名的文章[中强调了两种值得重新审视的方法](https://octopus.com/blog/on-the-naming-of-devops-engineers)。

### CALMS(文化、自动化、精益、测量、共享)

CALMS 是 DevOps 手册中探索的一个框架。

CALMS 是一个缩写，其中每个字母描述了采用 DevOps 所需的行动:

*   **文化**——消除隔阂，分担责任
*   **自动化** -减少花费在手工任务上的时间
*   **精益** -简化流程以减少浪费的时间
*   **测量** -收集和审查数据，找出需要改进的地方
*   **分享**——团队之间坦诚的合作

CALMS 也是 Atlassian 在发展 DevOps 文化的道路上采取的方法，用它来衡量进步和成功。你可以在他们的 DevOps 网站上阅读[Atlassian 如何使用 CALMS](https://www.atlassian.com/devops/frameworks/calms-framework)。

### 三种方式(流动、反馈、持续实验和学习)

在[DevOps 手册](https://itrevolution.com/book/the-devops-handbook/)和 DevOps 小说[凤凰计划](https://itrevolution.com/the-phoenix-project/)和[独角兽计划](https://itrevolution.com/the-unicorn-project/)中，三种方式将 devo PS 归结为 3 个关键原则:

*   流动
*   反馈
*   不断的实验和学习

让我们快速看一下这些原则是什么意思。

#### 第一种方式:流动

第一种方式是细化发生在开发者和客户之间的每一个过程。

这意味着:

*   不要在一个生命周期内尝试太多，专注于短距离冲刺
*   消除武断的过程，给团队他们需要的东西，让事情继续发展

#### 第二种方式:反馈循环

第二种方式是关于更快的反馈。

更快的反馈意味着更快的反应，因此您可以:

*   在问题因迭代而成为根深蒂固的大问题之前解决它们
*   使用较少的反向工程进行故障排除
*   调整流程以更好地满足客户和团队的需求

#### 第三条路:实验和学习

第三种方式是认识到冒险是可以的，失败是学习的一个重要部分。这也是关于交流成功的。

通过认识到这一点，它允许您的团队:

*   创造性地思考
*   从错误中学习
*   测试您的 DevOps 文化的弹性

## 开发人员角色

鉴于这个概念是关于一个统一的目的，DevOps 实际上是每个人的角色。也就是说，每个人都知道自己的责任仍然很重要。采用 DevOps 意味着增加一些专家角色，这些角色和开发人员一样，比如编码员、QA、设计师等等。

让我们快速看一下 DevOps 中需要的一些常见的额外角色以及它们的作用。一些命名约定和更精细的职责可能因组织而异。DevOps 工程师手册[更详细地探讨了团队结构](https://octopus.com/devops/team-structures/)。

### DevOps 工程师

DevOps 工程师的确切职能经常被争论。然而，人们的共识是，这个角色的存在是为了让其他人尽可能顺利地履行自己的职责。

DevOps 工程师既是指挥者又是问题解决者，负责监督全局，管理:

*   工作流程
*   基础架构设置和配置(包括扩展)
*   系统权限
*   不同团队的需求

### 构建管理器

构建经理维护组成持续集成(CI)的自动化系统。

这意味着确保代码得到编译、构建、测试和交付部署。

### 发布经理

发布经理指导为发布而提升的构建。他们交流发布中包含的内容，并通过管道环境规划他们的路线。

这就是我们所说的持续部署和持续交付(CD)——我们创建 Octopus 来帮助完成的过程。

### 生产部经理

产品经理几乎是开发者和最终用户之间的管道。

他们与开发人员合作，帮助确保产品具有客户需要的特性和修复。

### 数据分析师

数据分析师搜索数据以发现模式并找到需要改进的地方。

这有助于您发现影响用户体验的事情，例如功能问题或产品导航。

大多数开发运维方法认为产品生命周期应该是这样的:

1.  计划
2.  密码
3.  建设
4.  试验
5.  包裹
6.  释放；排放；发布
7.  部署
8.  操作
9.  班长

冲洗重复！

找到合适的工具来帮助你管理每个阶段是很重要的。我们来看几个例子。

### 规划

规划阶段对于产品的方向和未来是最重要的。有效的规划有助于您关注用户在下一个生命周期结束时获得的改进和特性。

考虑到许多过程可能变得非常概念化，有一系列工具允许协作和项目管理。

[松弛](https://slack.com/intl/en-au/)和[缩放](https://zoom.us/)是我们在 Octopus 的主要工具，但其他受欢迎的选项包括:

### 代码库和源代码控制

源代码控制对任何开发团队都很重要。源代码管理跟踪并检查每一段新的代码和文件更改。

大多数开发人员使用 [Git](https://git-scm.com/) 进行源代码控制。Git 既是一个系统，也是一种哲学，允许分布式开发，并通过分支帮助避免风险。

因此，代码仓库是 Git 托管代码的托管服务。

常见选项包括:

### 构建和测试

构建服务器(也称为 CI 平台)可以通过自动执行以下操作来节省时间:

*   代码编译
*   代码验证测试
*   包创建

常见选项包括:

我们在 2022 年第一季度深入研究了[詹金斯和 GitHub 行动](https://octopus.com/blog/tag/CI%20Series)。读一读，看看它们是否适合你。

### 包裹

软件打包工具将您的代码变成可部署的工件。您从包存储库中托管和部署这些工件。

常见选项包括:

### 发布和部署

大多数代码库和构建服务器都允许您以某种方式管理发布和部署到目标。然而，它们不能解决专用发布管理或部署工具所能解决的问题。

当然， [Octopus](https://octopus.com/) 是我们的部署工具，我们认为它非常棒。稍后我们将讨论章鱼在中的[。](#octopus-and-devops)

其他受欢迎的选项包括:

### 操作

操作涉及管道基础设施的设置、运行和维护。

常见选项包括:

[run book](#octopus-and-devops)也是与运营相关的一个重要特性。我们在最后会多谈一点章鱼手册。

### 监视

监控工具从您的产品和相关系统中收集重要数据。这可以为有关性能和客户使用的决策提供信息。

常见选项包括:

## 章鱼在哪里适合 DevOps

Octopus 在两个关键方面非常适合 DevOps 环境:

1.  在您的 CI/CD 管道中提供连续部署，并使复杂的部署变得简单。
2.  octopus run book-run book 允许您自动执行日常或紧急操作任务。这可能包括:
    *   事故恢复
    *   备份、恢复和测试
    *   基础设施的启动和拆除
    *   系统服务的停止、启动和重启
    *   文件清理
    *   运行你需要的任何语言的脚本

如果你还没有使用 Octopus Deploy，你可以[注册免费试用](https://octopus.com/start)。

阅读我们的 [Runbooks 系列的其余部分](https://octopus.com/blog/tag/Runbooks%20Series)或浏览 [DevOps 工程师手册](https://octopus.com/devops/)以了解有关 DevOps 和 CI/CD 的更多信息。

愉快的部署！