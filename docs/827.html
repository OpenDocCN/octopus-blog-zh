<html>
<head>
<title>Deploying an ASP.NET Core web app to Linux - Will it Deploy? Episode 7 - Octopus Deploy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>将ASP.NET核心网络应用程序部署到Linux——它能部署吗？第7集-章鱼部署</h1>
<blockquote>原文：<a href="https://octopus.com/blog/will-it-deploy-episode-07#2021-07-07">https://octopus.com/blog/will-it-deploy-episode-07#2021-07-07</a></blockquote>
                        <p>欢迎来到另一个<strong>它会部署吗？</strong>我们尝试使用Octopus Deploy自动部署不同技术的那一集。在这一集里，我们试图将ASP.NET核心2.0网络应用程序部署到亚马逊网络服务(AWS)的Ubuntu Linux虚拟机(VM)和SQL Server for Linux上。我们还探索与<a href="https://appveyor.com" rel="nofollow"> AppVeyor </a>和<a href="https://octopus.com/cloud"> Octopus </a>建立基于云的交付管道。</p>

<iframe src="https://www.youtube.com/embed/KhKnb58xOWk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen="">VIDEO</iframe>

<p>注:<a href="https://octopus.com/cloud">章鱼云</a>即将到来！注册您的兴趣，了解我们基于云的解决方案的最新动态。</p>

<h2 id="problem">问题</h2>

<h3 id="tech-stack">技术堆栈</h3>

<p>我们的应用程序是一个名为<a href="https://github.com/OctopusSamples/WillItDeploy-Episode007" rel="nofollow">随机报价</a>的随机报价生成器web应用程序。这相当简单，但它将让我们了解如何将ASP.NET核心web应用程序和数据库自动部署到运行在AWS中的Ubuntu Linux VM和SQL Server for Linux上。</p>



<p>向我们的营销经理安德鲁致敬，他一直在学习编码并开发了这款应用的第一部分。干得好！</p>

<h3 id="deployment-target">部署目标</h3>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2018-05/will-it-deploy-episode-07/aws-logo.png" class="zoom" data-title=""><img src="../Images/c5fd34549ef4949277d9206cf02328eb.png" class="img-fluid center" alt="Amazon web services logo" data-original-src="https://i.octopus.com/blog/2018-05/will-it-deploy-episode-07/aws-logo.png"/>T2】</a></p>



<h2 id="solution">解决办法</h2>

<p>那么它会部署吗？是的，会的！</p>

<p>我们基于云的交付渠道如下所示:</p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2018-05/will-it-deploy-episode-07/cloud-pipeline.png" class="zoom" data-title=""><img src="../Images/03b58504bd31a21a106a4bece6ad483c.png" class="img-fluid center" alt="GitHub, AppVeyor and Octopus delivery pipeline" data-original-src="https://i.octopus.com/blog/2018-05/will-it-deploy-episode-07/cloud-pipeline.png"/>T2】</a></p>

<p>我们将我们的源代码提交给<a href="https://github.com/OctopusSamples/WillItDeploy-Episode007" rel="nofollow"> GitHub </a>，用<a href="https://appveyor.com" rel="nofollow"> AppVeyor </a>自动构建我们的应用，并部署到一个<a href="https://aws.amazon.com/marketplace/search/results?x=0&amp;y=0&amp;searchTerms=Ubuntu+Sql+Server+Linux" rel="nofollow"> AWS Ubuntu VM </a>和<a href="https://octopus.com/cloud"> Octopus </a>。</p>

<p>把AppVeyor和Octopus集成起来又快又简单。我们使用一个定制的构建脚本来构建和打包我们的应用程序，并配置“Octopus Deploy”部署提供程序来部署它。</p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2018-05/will-it-deploy-episode-07/appveyor-package-webapp.png" class="zoom" data-title=""><img src="../Images/7e5e902c04bd461664ed2ee82718e6be.png" class="img-fluid center" alt="AppVeyor build settings" data-original-src="https://i.octopus.com/blog/2018-05/will-it-deploy-episode-07/appveyor-package-webapp.png"/></a>T2】</p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2018-05/will-it-deploy-episode-07/appveyor-deployment-provider.png" class="zoom" data-title=""><img src="../Images/adecfde92b037b0ec2134ca67b695088.png" class="img-fluid center" alt="AppVeyor deployment provider settings" data-original-src="https://i.octopus.com/blog/2018-05/will-it-deploy-episode-07/appveyor-deployment-provider.png"/>T2】</a></p>

<p>我们的部署过程如下所示:</p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2018-05/will-it-deploy-episode-07/deployment-process.png" class="zoom" data-title=""><img src="../Images/a4b000f0100d2f6122cbb179d5e2b7ea.png" class="img-fluid center" alt="Octopus deployment process" data-original-src="https://i.octopus.com/blog/2018-05/will-it-deploy-episode-07/deployment-process.png"/>T2】</a></p>

<ul>
<li>Octopus <strong>部署一个包</strong>步骤，在Octopus服务器上获取/解压缩我们的数据库脚本。</li>
<li>Octopus社区提供了步骤模板- <strong> <a href="https://library.octopusdeploy.com/step-template/actiontemplate-sql-execute-script-file" rel="nofollow"> SQL -执行脚本文件</a> </strong>以针对我们的SQL Server数据库执行我们的实体框架核心迁移脚本。</li>
<li>Octopus <strong>部署一个包</strong>步骤将我们的ASP.NET核心web应用程序部署到我们的Ubuntu Linux虚拟机上，并对其进行适当的配置。</li>
</ul>

<p>这个项目使用以下变量来存储我们的应用程序设置和数据库连接细节。</p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2018-05/will-it-deploy-episode-07/project-variables.png" class="zoom" data-title=""><img src="../Images/9c57a075140025f7a5e30f4211f9f5c6.png" class="img-fluid center" alt="Project variables" data-original-src="https://i.octopus.com/blog/2018-05/will-it-deploy-episode-07/project-variables.png"/>T2】</a></p>

<p>本集的<a href="https://github.com/OctopusSamples/WillItDeploy-Episode007" rel="nofollow"> GitHub repo </a>包含了本视频中使用的所有资源和链接。</p>

<h3 id="wrap-up">总结</h3>

<p>我们希望你喜欢这一集，因为我们有更多的作品！如果你想让我们探索某个框架或技术，请在评论中告诉我们。</p>

<p>不要忘记订阅我们的<a href="https://youtube.com/octopusdeploy" rel="nofollow"> YouTube </a>频道，我们会定期添加新视频。愉快的部署！😃</p>

<h2 id="learn-more">了解更多信息</h2>



                    
                    
</body>
</html>