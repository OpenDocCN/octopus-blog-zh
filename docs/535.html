<html>
<head>
<title>Octopus 2022 Q3: Safe, reliable, and auditable pipelines - Octopus Deploy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Octopus 2022 Q3:安全、可靠、可审计的管道——Octopus部署</h1>
<blockquote>原文：<a href="https://octopus.com/blog/octopus-release-2022-q3#2023-02-13">https://octopus.com/blog/octopus-release-2022-q3#2023-02-13</a></blockquote>
                        <p>Octopus 2022第三季度发布现已推出。</p>

<p>这个版本增加了对版本控制项目的版本控制变量的支持，以便更完整地实现我们在三月份发布的的<a href="https://octopus.com/blog/octopus-release-2022-q1"> Config as Code解决方案。</a></p>

<p>我们还有许多其他新功能，可以帮助您构建安全、可靠、可审计的“As Code”CI/CD管道。其中包括与我们的ServiceNow和吉拉服务管理集成的ITSM变更管理，以及内置的DevOps报告。</p>

<p>随着组织不断现代化，安全可靠地审计CI/CD管道变得越来越重要。您需要监控和保护您的部署，并且您的团队需要使用工具进行可靠的扩展，以便在发布从部署到测试和生产的过程中进行协作。</p>

<p>此版本值得注意的更新包括:</p>

<ul>
<li>作为版本控制项目的代码版本控制变量</li>
<li>ITSM -立即为服务进行无摩擦的管理变革</li>
<li>吉拉服务管理-高效的变更管理批准(早期访问)</li>
<li>DevOps Insights - DORA insights用于量化价值和改进(早期访问)</li>
<li>针对Octopus Deploy v2的GitHub操作</li>
<li>更简单的云目标发现设置</li>
</ul>

<p>这些功能共同支持您部署的协作、可扩展性和安全性。</p>

<p>2022年第三季度版本在Octopus Cloud上提供，可供我们的自助客户下载。</p>



<h2 id="included-in-the-q3-release">包括在第3季度发行版中</h2>

<ul>
<li>章鱼服务器2022.3 ( <a href="https://octopus.com/downloads/whatsnew/2022.3">发布说明</a>)</li>
<li>触手6.2.50</li>
<li>插件和工具<ul>
<li>为团队城市6.1.14部署Octopus</li>
<li>Octopus为Visual Studio部署代码0.1.4</li>
<li>用于Octopus Deploy 0.8.1的Terraform Provider</li>
<li>Octopus Deploy for吉拉服务管理1.0.9-AC(现已向吉拉服务管理云客户提供)</li>
<li>章鱼为竹子部署2.4.5</li>
</ul>
</li>
</ul>

<h2 id="long-term-support">长期支持</h2>

<p>下表显示了具有长期支持的Octopus服务器版本。</p>

<table class="table">
<thead>
<tr>
<th>释放；排放；发布</th>
<th>长期支持</th>
</tr>
</thead>
<tbody>
<tr>
<td>八达通2022.3</td>
<td>是</td>
</tr>
<tr>
<td>八达通2022.2</td>
<td>是</td>
</tr>
<tr>
<td>八达通2022.1</td>
<td>期满</td>
</tr>
</tbody>
</table>

<h2 id="config-as-code-version-control-your-deployment-process-and-configuration">配置为代码-版本控制您的部署过程和配置</h2>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/config-as-code-new-branch.png" class="zoom" data-title=""><img src="../Images/e06537897aa95667eb8046991290afc6.png" class="img-fluid center" alt="Screenshot of Octopus Deploy version-controlled variables" data-original-src="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/config-as-code-new-branch.png"/>T2】</a></p>

<p>Octopus 2022 Q3建立在我们的<a href="https://octopus.com/blog/octopus-release-2022-q1"> 2022 Q1版本</a>的基础上，增加了版本控制变量，以进一步改善您的开发工作流程。您可以在部署流程和应用程序代码的同时改进配置变量和基础设施设置。</p>

<p>通过版本控制的部署流程和变量，Octopus提供了安全、可靠、可审计的“As Code”部署管道。这使您的团队能够按照公司的法规要求和合规性政策开展工作，从而使审计过程更加顺畅。</p>

<p>【T2 <img src="../Images/b78be51695e58ef89b186b77060fa588.png" class="img-fluid center" alt="Screenshot of Octopus Deploy version-controlled variables" data-original-src="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/config-as-code-variables.png"/></p>

<ul>
<li><strong>可追踪的端到端CI/CD“As Code”管道</strong> - Octopus为各种CI服务器提供内置插件，便于集成。您可以将Octopus与支持构建定义作为代码的CI服务器配对，为您提供对软件开发过程变更的完全可追溯性。对构建和部署管道的更改可以通过相同的拉请求审查和批准过程，从而提高管道的稳定性和可靠性。</li>
<li><strong>一致的流程和批准</strong>——通过使用拉式请求工作流来审查和批准变更，提高代码质量并满足合规性要求。一致的过程有助于高质量的发布，并且您可以强制执行策略，以便未批准的变更不会被合并。</li>
<li><strong>可追踪的变更集</strong>——通过结合使用拉请求差异和详细的审计日志，清晰地了解变更集。Octopus对发生的所有事情都有完整的审计记录，包括详细的日志和过滤器。查看谁在何时更改了什么，以帮助解决版本问题。使用源代码控制提交和Git差异捕获更多细节，向您显示对流程和配置设置所做的确切更改。</li>
<li><strong>灾难恢复</strong>——备份和恢复Git中的用户管道。如果需要，回滚更改可以更容易地从发布中断中恢复。</li>
</ul>



<h3 id="config-as-code-demo">配置为代码演示</h3>

<iframe src="https://www.youtube.com/embed/lRLKt6b4uxE" frameborder="0" allowfullscreen="">VIDEO</iframe>

<h3 id="customers-benefiting-from-config-as-code">客户受益于配置即代码</h3>

<p>我们有数百个客户在Octopus中使用Config作为代码，包括StackOverflow和Recruit Wizard。</p>

<blockquote class="blockquote">
<p>Config as Code允许我们为我们所做的每一种改变创建我们想要的工作流。它为版本控制部署带来了最有价值的部分，也就是它允许用户拥有的迭代过程(通过分支)。</p>
<p><em> Chris Hunt，员工现场可靠性工程师-堆栈溢出</em></p>
</blockquote>

<blockquote class="blockquote">
<p>将配置分支为代码允许我们在修改代码的同时修改部署过程。这是一个绝对的游戏改变者，尤其是当我们在团队中加入越来越多的工程师时。</p>
<p><em>首席技术官——招聘向导本·麦克弗森</em></p>
</blockquote>

<h2 id="servicenow-change-management-without-friction">ServiceNow轻松改变管理</h2>

<p>【T2 <img src="../Images/2cd8313e453a896a2c41316258832306.png" class="img-fluid center" alt="Screenshot of ServiceNow integration" data-original-src="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/service-now-project-settings.png"/></p>

<p>ServiceNow集成将Octopus部署链接到ServiceNow变更请求，并自动创建预填充的正常变更请求。</p>

<p>您获得了开箱即用的改进的可跟踪性，并且您可以向审计人员证明每个受控的部署都有一个变更请求。这确保您的CI/CD和发布管理流程符合公司政策和法规。</p>

<h3 id="whats-included-in-our-servicenow-support">我们的ServiceNow支持包括哪些内容？</h3>

<ul>
<li>简单的工作流程配置，因此很容易将Octopus与ServiceNow集成。</li>
<li>将部署链接到现有的更改请求，以便您可以手动将部署与更改请求相关联。</li>
<li>在部署时自动创建普通的变更请求。Octopus暂停部署，直到批准完成。</li>
<li>创建变更请求后，使用Octopus自动完成变更请求阶段之间的转换，在ServiceNow中留下部署记录。</li>
<li>使用变更模板自动创建标准变更请求，以减少手动工作并控制要填充的信息。</li>
<li>确保现有变更请求遵循“变更窗口”,以便在指定的时间窗口之前不会执行部署。</li>
<li>向变更请求添加工作注释，其中包含有关部署开始和完成时间以及部署是否成功的信息。</li>
<li>查看和导出受控部署的审核日志，以便轻松实现合规性和部署后协调。</li>
</ul>

<p>了解有关我们的<a href="https://octopus.com/docs/approvals/service-now"> ServiceNow集成</a>的更多信息。</p>



<h2 id="efficient-change-management-approvals-with-jira-service-management-early-access-preview">借助吉拉服务管理实现高效的变更管理审批(提前访问预览)</h2>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/jira-task-settings.png" class="zoom" data-title=""><img src="../Images/31f95a8114a417eb11efb33759480b30.png" class="img-fluid center" alt="Screenshot of Jira Service Management integration" data-original-src="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/jira-task-settings.png"/>T2】</a></p>

<p>基于我们的ITSM变更管理支持，我们的吉拉服务管理集成作为早期访问预览版(EAP)提供。这种集成将Octopus部署与吉拉服务管理变更请求联系起来，使大规模管理部署管道变得更加容易。它减少了手动填写变更请求的需要，从而加快了流程并减少了错误。</p>

<p>了解有关我们的<a href="https://octopus.com/docs/approvals/jira-service-management">吉拉服务管理集成</a>的更多信息。</p>

<h3 id="whats-included-in-our-jira-service-management-support">我们的吉拉服务管理支持包括什么？</h3>

<ul>
<li>简单的工作流程配置，因此可以直接将Octopus与吉拉服务管理集成。</li>
<li>将部署链接到现有的更改请求，以手动将部署与更改请求相关联。</li>
<li>在部署时自动创建“变更请求”请求。Octopus暂停部署，直到相应的批准完成。</li>
<li>查看和导出受控部署的审核日志，以便轻松实现合规性和部署后协调。</li>
<li>提高了开箱即用的可追溯性，以确保您的CI/CD和发布管理流程符合公司政策和法规。</li>
</ul>

<p>如果您的团队使用吉拉服务管理变更管理，我们希望您能尝试一下并提供您的反馈。</p>

<p><a href="https://octopusdeploy.typeform.com/jsm-eap" rel="nofollow">注册吉拉服务管理EAP。</a></p>

<h2 id="devops-insights-better-visibility-and-actionable-dora-metrics-early-access-preview">DevOps洞察:更好的可见性和可操作的DORA指标(早期访问预览)</h2>

<p>Octopus中的DevOps Insights(早期访问)通过展示基于<a href="https://octopus.com/docs/insights"> 4个关键DORA指标</a>的见解，让您更好地了解贵公司的DevOps绩效。这些指标有助于您确定开发运维绩效的结果，并深入了解需要改进的地方。</p>

<ul>
<li>更好地了解您的项目和团队的绩效。</li>
<li>消除“直觉”，使用数据推动改进，并确定新流程是否有效。</li>
<li>随着时间的推移审查和收集数据，以突出更快提供更大价值的途径。</li>
<li>通过数据和协作帮助引入变革，以形成业务案例。</li>
<li>分享成功，从失败中学习，不断改进。</li>
</ul>

<p>DevOps Insights有两个级别:</p>

<ul>
<li>项目级洞察:对所有客户可用</li>
<li>空间级洞察:面向企业客户</li>
</ul>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/devops-insights-project-level-insights.png" class="zoom" data-title=""><img src="../Images/9f8f090cad0e082f9eb3da160c9a6be8.png" class="img-fluid center" alt="Project level insights with Octopus Deploy DevOps Insights" data-original-src="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/devops-insights-project-level-insights.png"/>T2】</a></p>

<p>项目级洞察作为每个项目中的一个新标签，可供所有客户开箱即用。如果你已经是一个用户，Octopus有它需要的所有数据来帮助你发现基于你的部署历史的丰富见解。</p>

<p>了解如何在我们的文档中使用<a href="https://octopus.com/docs/insights">项目级见解。</a></p>

<h3 id="insights-across-projects-and-teams-with-space-level-insights">跨项目和团队的洞察力，具有空间级别的洞察力</h3>

<p>【T2 <img src="../Images/df42d78526b083de50933018568434f2.png" class="img-fluid center" alt="Space level insights with Octopus Deploy DevOps Insights" data-original-src="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/devops-insights-space-level-insights.png"/></p>

<p>此版本包括针对企业客户的更多见解。空间层面的见解:</p>

<ul>
<li>在您的空间中汇总数据，以便您可以跨项目比较指标，确定哪些有效，哪些无效</li>
<li>为更好的决策提供信息:发现问题，跟踪改进，庆祝成功</li>
<li>根据数据显示的实际情况，帮助您量化DevOps性能</li>
</ul>

<p>进一步了解<a href="https://octopus.com/docs/insights">空间层次洞察力如何帮助您的团队做出更好的决策</a>。</p>



<h3 id="customer-feedback-from-the-devops-insights-alpha-program">DevOps Insights Alpha计划的客户反馈</h3>

<p>一些客户参与了我们的DevOps Insights Alpha计划，我们感谢他们的宝贵时间和反馈。他们帮助成千上万的其他客户设计了这个功能。</p>

<blockquote class="blockquote">
<p>我们使用了DevOps Insights Alpha程序，发现它非常有用。这些见解为我们的团队提供了易于获取的具体数据，有助于验证我们的假设并做出决策。它们提供了与决策者分享的证据，并使管理者一眼就能找到他们需要的信息。</p>
<p><em> Leslie Brody，IMO首席现场可靠性工程师</em></p>
</blockquote>

<h2 id="github-actions-for-octopus-deploy-v2">针对Octopus Deploy v2的GitHub操作</h2>

<p>我们更新了Octopus Deploy的GitHub操作:</p>



<p>此版本还带来了许多更新，包括:</p>

<ul>
<li>通过基于SemVer的标签提高了主要更新、次要更新和补丁更新的可用性</li>
<li>更简单的输入，合理的默认值和每个动作更少的输入参数</li>
<li>利用环境变量作为动作的输入参数</li>
<li>增加了对敏感值环境变量的支持(如API键)</li>
<li>通过降价运行生成的作业摘要(见下文)</li>
</ul>

<h3 id="job-summaries">工作摘要</h3>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/githubactions-1.png" class="zoom" data-title=""><img src="../Images/63ba7aeb1c9d701a775c54e4bd4ff884.png" class="img-fluid center" alt="Job summaries packages successful for GitHub Actions Octopus Deploy v2" data-original-src="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/githubactions-1.png"/>T2】</a></p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/githubactions-2.png" class="zoom" data-title=""><img src="../Images/800f9a455e43eb985385a63f0c530ff3.png" class="img-fluid center" alt="Job summaries Octopus created release for GitHub Actions Octopus Deploy v2" data-original-src="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/githubactions-2.png"/></a>T2】</p>

<p>作业摘要是使用定制的GitHub风格的Markdown生成的，我们通过Create Release和Push Package GitHub操作发出这个Markdown。</p>

<p>像这样的动作输出以前仅限于日志和注释，很难对大量信息进行聚合和分组。该功能增强了用户体验。</p>

<h3 id="push-build-information">推送构建信息</h3>

<p>这个版本引入了一个新的GitHub动作:<a href="https://github.com/marketplace/actions/push-build-information-to-octopus-deploy" rel="nofollow">推送构建信息</a>。这个GitHub动作允许您向Octopus提供详细的提交、构建和发布跟踪信息，这些信息可以作为发行说明出现。</p>

<p>您可以使用该特性与每个生产部署的利益相关者共享发行说明。当试图隔离特定版本中引入的bug时，您还可以跟踪从部署到构建和提交的链接。</p>

<p>了解有关<a href="https://octopus.com/docs/packaging-applications/build-servers/build-information">构建信息和问题跟踪</a>的更多信息。</p>

<h2 id="simpler-cloud-target-discovery-setup">更简单的云目标发现设置</h2>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/cloud-target-discovery-azure.png" class="zoom" data-title=""><img src="../Images/9aee4f4f47291bc8187ce99d99e1ff27.png" class="img-fluid center" alt="Simpler cloud target discovery setup in Octopus Deploy" data-original-src="https://i.octopus.com/blog/2022-09/octopus-release-2022-q3/cloud-target-discovery-azure.png"/>T2】</a></p>

<p>我们简化了云连接的配置，因此您可以部署到Azure、AWS和Google Cloud。现在，您可以直接在部署流程编辑器中配置云连接。这意味着您可以通过更少的点击来配置和选择适当的云帐户设置。配置完成后，您也会收到通知。</p>

<p>了解有关如何<a href="https://octopus.com/docs/infrastructure/deployment-targets/cloud-target-discovery">配置云连接</a>的更多信息。</p>

<h2 id="breaking-changes">重大变化</h2>

<p>此版本包含3个突破性的变化:</p>

<h3 id="fewer-requests-made-to-external-feeds-when-creating-and-viewing-releases">创建和查看发布时对外部提要的请求减少</h3>

<p>过去，Octopus在创建发布时会执行包搜索来检索发布日期。这可能导致在检索此信息时发布创建被阻止，从而导致延迟。</p>

<p>我们做了一些小的改动，以减少在创建和查看发布时对外部提要的请求数量。</p>

<p>在<a href="https://github.com/OctopusDeploy/Issues/issues/7673" rel="nofollow"> GitHub问题</a>中了解更多关于这一变化的信息。</p>

<h3 id="update-ocl-to-reference-shared-resources-via-slugs-instead-of-names">更新OCL，通过slugs而不是名称来引用共享资源</h3>

<p>当Config as Code启动时，Git项目使用它们的名称引用共享资源。这也意味着来自Git项目的API响应包括名称而不是id。</p>

<p>我们不再使用名字，而是将slugs引入OCL，并将id带回Git项目的API。</p>

<p>有了这个改变，Git项目可以使用它们唯一的slug而不是它们的名字来引用来自OCL的共享资源。</p>

<p>当通过API返回结果时，Octopus Server会将这些slugs转换为资源id，允许(大多数)脚本在数据库和Git项目之间重用，而无需考虑名称和id。</p>

<p>在<a href="https://github.com/OctopusDeploy/Issues/issues/7645" rel="nofollow"> GitHub问题</a>中了解更多关于这一变化的信息。</p>

<h3 id="existing-change-controlled-deployments-impacted-by-updated-servicenow-approval-caching">受更新的ServiceNow批准缓存影响的现有变更控制部署</h3>

<p>ServiceNow审批缓存已更新，每个人都可以使用该功能。如果您当前正在使用Octopus ServiceNow集成，并且在升级到2022.3时部署正在等待批准，则它们将无法退出“排队”状态，也不会运行。升级后，需要手动终止并重新启动现有的变更控制部署。</p>

<p>或者，请确保在安装升级之前，所有现有的受更改控制的部署都已执行完毕。</p>

<p>在<a href="https://github.com/OctopusDeploy/Issues/issues/7760" rel="nofollow"> GitHub问题</a>中了解更多关于这一变化的信息。</p>

<h2 id="upgrade-or-get-started">升级或开始</h2>

<p>章鱼云用户已经在运行这个版本了。自托管八达通客户可以从我们的网站下载最新版本。</p>

<p><span> <a class="btn btn-success" href="https://octopus.com/downloads/">下载章鱼2022.3 </a> </span></p>

<p>我们鼓励您回顾升级Octopus服务器的<a href="https://octopus.com/docs/administration/upgrading">步骤。更多信息请参见</a><a href="https://octopus.com/downloads/whatsnew/2022.3">发行说明</a>。</p>

<p>如果您以前没有使用过Octopus，<a href="https://octopus.com/start">注册</a>免费试用，或者<a href="mailto:sales@octopus.com" rel="nofollow">发送电子邮件给我们的销售团队</a>观看演示并了解更多信息。</p>

<h2 id="whats-coming-in-future-releases">未来的版本中会有什么？</h2>

<p>查看我们的<a href="https://octopus.com/roadmap">公共路线图</a>以了解最新消息并注册更新。</p>

<h2 id="conclusion">结论</h2>

<p>Octopus 2022 Q3提供了支持安全、可靠和可审计的“As code”CI/CD管道的新功能。Octopus 2022 Q3建立在我们Q1版本的基础上，增加了版本控制变量。这个版本还包括许多支持现代DevOps团队的附加特性。</p>

<p>我们将继续为我们的配置代码解决方案添加更多功能，并期待看到更多添加了变量的版本控制项目。</p>

<p>愉快的部署！</p>

                    
                    
</body>
</html>