# 八达通部署 2017 路线图-八达通部署

> 原文：<https://octopus.com/blog/roadmap-2017>

![Octopus Deploy 2017 roadmap](img/d660645a70f905a37a0ff4e818fb60fc.png)

从 Octopus 的早期开始，我就一直坚信应该公开我们的路线图。当 Octopus 只有我一个人的时候，我经常在公共的 Trello 板上放上我计划要做的所有事情。当我们超过了一个单独的 Trello 板时，我们开始保留一个 [GitHub 问题列表](https://github.com/OctopusDeploy/Issues/issues)和一个公共的[路线图](/company/roadmap)页面，上面有我们的高级计划。

随着 2016 年接近尾声，我们开始规划 2017 年，我们花了很多时间思考我们今年想要完成的目标，我已经将这些纳入了 2017 年的路线图。我们今年有一些雄心勃勃的目标，我对清单上的内容感到非常兴奋。尽情享受吧！

## 摘要

到 2017 年底:

*   Octopus 将实施**所有超过 200 票的 UserVoice 项目**
*   章鱼的学习曲线会更低
*   Octopus 将拥有一流的 PowerShell DSC 支持，并用于管理正在运行的应用程序
*   Octopus 将有一个更好的 UI 来配置部署步骤，并支持 IIS 中的**每个选项**
*   八达通用户应该能够通过一个聊天应用程序与八达通互动
*   Octopus 将使用 **Swagger** 公开其 API，使最终用户更容易使用我们的 API
*   Octopus 将对亚马逊网络服务有更好的内置支持
*   Octopus 将为不想安装 Mono 的客户提供 Linux 部署
*   Octopus 将通过**发布促销**使 PCI 兼容部署得到开箱即用的支持
*   Octopus 将作为生产就绪的**平台即服务**解决方案提供

## 总体战略

对于 Octopus 来说，真正的长期成功是由活跃的成功安装数来衡量的。该路线图中的所有内容都旨在为此做出贡献——通过以下方式:

*   让现有客户高兴他们选择了八达通，并给他们续延的理由
*   扩展 Octopus 可以支持的场景范围
*   使其更易于使用

## 高级路线图

这些是我们今年路线图上的头条项目。对于其中的大部分，我们将在开始设计和工作时发布我们的传统 [RFC](https://octopus.com/blog/tag/RFC) 帖子，所以我在下面只包括它们的简短摘要。如果你有任何问题或想法，欢迎在评论中提出！

### 超过 200 票的所有用户声音项目

目前在我们的用户之声网站上有超过 914 个想法，我们不太可能找到它们的长尾，我不认为我们的任何客户会期望我们建立所有的想法。但是很多建议都是几百票，到现在已经开了几年了，这是不能接受的。所以今年我们发誓要对超过 200 票的所有建议采取行动。

以下是今天的名单:

### 章鱼行动

对于许多较小的团队来说，Octopus 是他们拥有的最接近通用“DevOps”工具的东西。像所有人一样，他们用它来部署 ASP.NET 应用程序、数据库升级和 Windows 服务。但是他们也使用它来跨机器运行特定的脚本，或者作为配置管理和机器供应工具。或者他们利用我们的健康检查作为监控工具。

虽然有许多优秀的工具专门从事配置管理或监控，我们不打算出去与它们竞争，但我们确实看到，对于较小的环境，Octopus 可以很好地完成这些工作。今年，我们想以两种不同的方式对此进行扩展。

首先，我们要确保 Octopus 拥有一流的 PowerShell DSC 体验。我已经写了关于你如何[在 Octopus](https://octopus.com/blog/octopus-and-powershell-dsc) 中使用 PowerShell DSC 支持。我们将通过支持重启来完善这一点，并做一些 UI 工作来使其更加精简。

其次，我们将最终实现在我们的[监控&服务管理](https://octopus.com/blog/monitoring-and-ops-rfc) RFC 中讨论的**操作**特性。正如我在 RFC 中所写:

> Octopus 仪表板显示您的最后一次生产部署是否成功。如果它还向您显示您部署的内容是否仍在运行，那会怎么样？...不过，它不仅仅局限于监视状态:您还可以启动/停止这些服务。您昨天部署到 30 台机器上的 Windows 服务在其中 7 台机器上突然崩溃了吗？没问题，只需点击按钮，选择你想重启的 7，点击执行按钮。肯定胜过使用远程桌面！另外，会有很好的审计记录。

这两个项目的构建块已经存在:可脚本化的健康检查、PowerShell 步骤和步骤模板运行程序已经提供了大部分实现工作。我们只需要把它们粘在一起，告诉人们如何使用它。

### 章鱼 Slack 应用

我们刚刚在 Octopus 中发布了“订阅”支持，这让我们可以在 Octopus 中发生事件时通知 web 服务。这一点，加上我们的 API，是我们构建梦想中的“ChatOps”体验所需的所有构件。这将采用 Slack 应用程序的形式，客户可以将其连接到他们的 Octopus 服务器。您可以将 Slack 应用程序与您的 Octopus 服务器相关联，并执行以下操作:

*   询问 it 在生产中部署了什么
*   告诉 it 部门将测试版本升级到生产版本
*   被通知部署状态

### 新的步骤生成器和更多的 IIS 选项

迄今为止，在 Octopus 中配置部署步骤的 UI 必须平衡:

*   允许您配置部署所需的一切
*   没有让你不知所措

对于配置 Windows 服务之类的东西的部署步骤，无论如何只有少数几个选项。但是有些步骤，比如配置 IIS 的步骤，可能有数百种不同的设置需要设置。目前，这意味着我们只公开最常见的设置，您必须编写 PowerShell 来完成其余的工作。

我们花了一些时间来考虑替代的用户界面，这将允许我们逐渐暴露你关心的设置，隐藏你不关心的设置，我认为我们已经找到了如何做到这一点。当你想在 Octopus 中配置每一个 IIS 设置时，我们就会知道我们已经做到了。

### 降低学习曲线

Octopus 是那种“设置好就忘了”的工具；您下载它，设置它，并花一点时间设置您的部署过程。您迭代几次，直到流程和变量正是您所需要的。当所有这些都完成后，您就可以进入创建和部署版本的良好节奏了——如果您的部署需要改变，您只需要修改过程。

最初的部署过程配置对大多数人来说是困难的部分。今年，我们将做大量的工作，努力使设置更简单、更流畅。

### 单一自由 Linux (SSH)部署

Octopus 目前支持使用 Bash 通过 SSH 部署到机器上，允许它用于部署到 Linux 服务器(以及其他)。然而有一个缺点:我们目前需要安装 Mono，因为我们调用这些脚本的方式。对于一些人来说，这种依赖太大，太难安装，或者他们不喜欢。

如果你只是运行一个简单的脚本，我们会让它不需要单声道就能运行。访问 Octopus 变量的方式可能会改变，但除此之外，一切都会正常工作。对于带有内置约定的完整包部署，我们仍然会使用我们的 Calamari 工具，但是我们会将它们移植到。NET Core(并且可能能够为通用架构编译它们),因此依赖性会更小。

### 八达通发行促销

许多客户工作的环境中，版本必须在一个以上的 Octopus 服务器之间流动，最常见的两种情况是:

*   PCI 兼容环境，其中部署到生产环境的 Octopus 必须隔离
*   使用一台 Octopus 进行开发/测试，但随后需要在每个客户站点安装一台 Octopus 服务器来进行生产部署的机构

我们过去曾多次尝试解决这些问题:

*   Octo.exe 出口-这是有限的，但对许多人有用
*   octopus Migrator——它几乎输出了所有内容，但太吵了——人们主要关心的是推广个人版本
*   离线丢弃——这些方法在下游环境很小时有效，但是当机器数量增加时，你很快就会自己复制章鱼

我们将尝试一劳永逸地解决这个问题，让您在一个 Octopus 服务器中声明“下游”和“上游”环境，这些环境实际上是在另一个 Octopus 服务器中管理的，并促进它们之间的发布。

当您将一个版本升级到下游的 Octopus 服务器时，我们将导出该版本、包、变量和流程快照，以及下游 Octopus 服务器需要知道的所有其他内容。如果 Octopus 服务器联网，您将能够自动在它们之间传输该导出，或者将它们放在 USB 驱动器上用于 air gap 部署。当你在下游的 Octopus 中部署它们时，你会得到一个“收据”,它可以被导入到上游的 Octopus 中。

我希望通过构建这一功能，我们能够消除之前解决这一场景的所有三种尝试，并节省大量客户手动解决这一问题的时间。

### “炫耀”我们的 API

我们在 Octopus 2 中冒了很大的风险，为 Octopus 中的所有东西构建了一个 REST API，然后在它的基础上重写了我们的整个 UI。这种 API 优先的思想很好地服务了我们，并且变得非常受欢迎——人们使用我们的 API 来做各种我从未想象过的事情。

我们将通过支付一些技术债务(我们的 API 对我们来说比它应该的更难维护)和增加对 [Swagger](http://swagger.io/) 的支持，使 API 更容易被发现，这将为您提供一个出色的 UI 来探索我们的 API。这应该使构建我们的 API 更加容易。

### 更紧密的 AWS 集成

对于 Azure 用户，Octopus 已经内置了部署步骤和帐户支持。我们将继续添加更多的步骤(Azure Service Fabric 是最明显的)，但我们也将使对 AWS 的支持达到标准。我们将增加对 AWS 账户的支持，以及使用常见 AWS 服务的步骤，如 CloudFormation、EC2、S3 和 Elastic Beanstalk。

### PaaS 章鱼

当我开始使用 Octopus 的时候，云还没有获得很大的吸引力，我们的客户几乎完全是本地的。我们注意到越来越多的客户将他们的代码和 CI 环境迁移到云上，无论是通过 GitHub/AppVeyor 还是 VSTS，我们认为这种趋势只会朝着一个方向发展。我们最近[将 Octopus 添加到 Azure marketplace](https://azuremarketplace.microsoft.com/en-us/marketplace/apps/octopus.octopusdeploy) 中，这样你就可以在自己的订阅中安装 Octopus 服务器，但我们认为我们需要更进一步。

对于作为创始人/首席执行官的我来说，这是这个路线图上最困难的一项，因为它不仅需要技术变革，还需要组织变革——从成为一个封装软件供应商到学习如何发展和支持 PaaS 产品。

## 关闭

我们在今年的路线图上花了很多心思，而且有很多项目。我敢肯定会有一些失望-每个人都有他们希望章鱼能做的事情，包括我自己-但我也希望这里对每个人都有价值。2017 年万事如意！