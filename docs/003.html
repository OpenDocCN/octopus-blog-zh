<html>
<head>
<title>Octopus 1.3 with manual steps, email steps and PowerShell steps - Octopus Deploy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>具有手动步骤、电子邮件步骤和PowerShell步骤的Octopus 1.3-Octopus部署</h1>
<blockquote>原文：<a href="https://octopus.com/blog/1.3#2015-09-25">https://octopus.com/blog/1.3#2015-09-25</a></blockquote>
                        <p>章鱼1.3刚刚发布。它包括许多错误修复，以及对最近发布的RavenDB 2.0的升级，感觉快得多。它还包括三种新类型的部署步骤:</p>

<p><img src="../Images/590e091d29d13b1a33f4cc9081786112.png" alt="Choices when adding steps" data-original-src="https://i.octopus.com/blog/migrated/13/01-add-step-choices.png"/></p>

<p>Octopus仍然面向使用NuGet包的应用程序的自动部署，但是这三个新的步骤类型提供了很大的灵活性。</p>

<h2>运行PowerShell脚本</h2>

<p>这种步骤类型允许您在给定角色的所有触角上运行PowerShell片段。</p>

<p><img src="../Images/a073b8611afc5b38eafbe92bfe3ee673.png" alt="Step for running a PowerShell snippet" data-original-src="https://i.octopus.com/blog/migrated/13/02-powershell-step.png"/></p>

<p>注意，该脚本可以引用任何Octopus定义的变量作为PowerShell变量。在部署过程中，您将在部署日志中看到输出:</p>

<p><img src="../Images/d800f829800bec51d38c2f02681e41dd.png" alt="Output from PowerShell" data-original-src="https://i.octopus.com/blog/migrated/13/02-powershell-output.png"/></p>

<h2>发送电子邮件</h2>

<p>这一步允许您发送电子邮件。您可以使用Octopus <a href="http://octopusdeploy.com/blog/variable-substitutions">变量替换语法</a>在您的电子邮件正文中引用Octopus变量。</p>

<p><img src="../Images/6a2f5ed49e9b3ad09707de9cabcfc5cc.png" alt="Sending email" data-original-src="https://i.octopus.com/blog/migrated/13/03-send-email.png"/></p>

<p>SMTP服务器设置在配置菜单下单独配置:</p>

<p><img src="../Images/ea136f7c8f8b6f842bb5c31b26999e9a.png" alt="SMTP settings" data-original-src="https://i.octopus.com/blog/migrated/13/03-smtp-settings.png"/></p>

<h2>需要手动干预</h2>

<p>虽然Octopus是一个自动化部署解决方案，但有些任务是无法自动化的。有时部署需要签署，无论是在开始还是结束。Octopus中的手动步骤使这成为可能。我之前在博客中提到了我们的<a href="http://octopusdeploy.com/blog/manual-deployments-rfc">手动部署</a>计划，现在这些计划已经实现了。</p>

<p><img src="../Images/0561cbe01b955c393a93dd2cdc49fcb1.png" alt="Manual step" data-original-src="https://i.octopus.com/blog/migrated/13/04-manual.png"/></p>

<p>当遇到该步骤时，部署将暂停:</p>

<p><img src="../Images/a01ca41e38c084e58cb9701541ecb285.png" alt="Deployment paused" data-original-src="https://i.octopus.com/blog/migrated/13/04-deployment-paused.png"/></p>

<p>授权组中的用户将看到说明，然后可以决定部署是通过还是失败:</p>

<p><img src="../Images/4240ca4275cc0a22b973d60ebcd3a042.png" alt="Deployment approval" data-original-src="https://i.octopus.com/blog/migrated/13/04-deployment-pause-info.png"/></p>

<p>部署任务实际上是暂停的，同时等待手动步骤完成。这意味着您可以重启Octopus服务器，并在一周后批准这一步骤。</p>

<p><img src="../Images/5ab4d5792981353639f3c31e1b05bbec.png" alt="Manual deployment output" data-original-src="https://i.octopus.com/blog/migrated/13/04-manual-output.png"/></p>

<p>我希望这些新增加的东西对你有用！</p>

                    
                    
</body>
</html>