# Halibut:一个安全的通信栈。网络/单章鱼部署

> 原文：<https://octopus.com/blog/halibut>

我最近在 CodeProject 上写了一篇关于比目鱼的文章，比目鱼是 WCF 的一个开源、安全的替代品。大比目鱼是在我研究如何让章鱼触手代理服务在 Mono 下运行时出现的。

> 作为一个自动化部署工具，Octopus 需要能够将包和配置信息推送到可能在本地网络或云中的机器上。为了安全地做到这一点，八达通的用户建立了双向信任关系。
> 
> 在 Octopus Deploy 中，我们使用 X.509 证书和 WCF 的 wsHttpBinding 栈。建立连接后，每一方都要验证另一方提供的证书的指纹。如果公钥不是我们所期望的，我们拒绝连接。
> 
> 在未来的版本中，我们希望给 Octopus 增加 Mono 支持，这样我们就可以将包部署到 Linux 和其他类似 Unix 的操作系统上。但是有一个问题: **WCF 的`wsHttpBinding`在 Mono 上不被支持。**
> 
> 面对这个问题，我们需要想出一个替代的通信栈。

在 Mono 上运行触须会很棒。当然，有些事情需要有所不同。例如，我们可能会调用 Shell 脚本，将 Octopus 变量作为环境变量传递，而不是调用 PowerShell 脚本。但是，如果我们能取代 WCF 作为通讯栈，我们将会走得很好。

切换通信栈有点棘手，尤其是因为 Octopus 需要使用旧协议来将现有代理升级到新协议。我希望我们能在未来的版本中透明地做到这一点，大概是在 Octopus 2.0 左右。