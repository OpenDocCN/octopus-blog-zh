<html>
<head>
<title>Using the Deploy an Azure App Service step - Octopus Deploy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>使用部署Azure应用服务步骤- Octopus部署</h1>
<blockquote>原文：<a href="https://octopus.com/blog/deploy-an-azure-app-service-step#2021-12-23">https://octopus.com/blog/deploy-an-azure-app-service-step#2021-12-23</a></blockquote>
                        <p>Octopus Deploy提供了部署到Microsoft Azure的流程步骤。一个新的步骤<strong>Deploy a Azure App Service</strong>可用于将容器部署到Azure App Service。</p>

<p>为此，您需要:</p>



<h2 id="setting-up-azure-web-app">设置Azure Web应用程序</h2>

<p>若要设置您将部署的Azure Web应用:</p>

<ol>
<li>导航到您的资源组，然后点击<strong>创建</strong>，然后点击<strong> Web应用</strong>。</li>
<li>给web应用命名，并检查“Docker容器”中的<strong>发布</strong>设置。</li>
<li>选择适当的位置并创建web应用程序。</li>
<li>您将看到一个转到资源的选项。该URL将是托管Web应用程序的地址。</li>
</ol>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2022-01/deploy-an-azure-app-service-step/azure-web-app-home.png" class="zoom" data-title=""><img src="../Images/57c2ea41ac7867c0ec83f2b2677c8e3a.png" class="img-fluid center" alt="Azure Web App Home" data-original-src="https://i.octopus.com/blog/2022-01/deploy-an-azure-app-service-step/azure-web-app-home.png"/>T2】</a></p>

<h2 id="configuring-octopus-deploy">配置Octopus部署</h2>

<p>在Octopus部署实例中，导航到<strong>基础设施</strong>，然后是<strong>部署目标</strong>，然后是<strong>添加部署目标</strong>。选择<strong> Azure </strong>选项卡，然后选择<strong> Azure Web App </strong>。</p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2022-01/deploy-an-azure-app-service-step/add-deployment-target.png" class="zoom" data-title=""><img src="../Images/4ffad7ac0a8a01c395b3e156b9c2a12a.png" class="img-fluid center" alt="Add deployment target" data-original-src="https://i.octopus.com/blog/2022-01/deploy-an-azure-app-service-step/add-deployment-target.png"/>T2】</a></p>

<p>填充以下字段:</p>

<ul>
<li><strong>环境</strong> -您希望部署到的环境</li>
<li><strong>目标角色</strong> -标识部署目标的角色，如果它不存在，您可能需要创建一个</li>
<li><strong>账户</strong>-Octopus Deploy中关联的Azure账户</li>
<li><strong> Azure Web App </strong> -你之前创建的Web App</li>
</ul>

<p>进入<strong>库</strong>，然后<strong>外送</strong>，然后<strong>加送</strong>。</p>

<p>填充以下字段:</p>

<ul>
<li><strong>进给类型</strong> - <code>Docker Container Registry</code></li>
<li><strong> Name </strong> -为提要命名</li>
</ul>

<p>这一步激活您稍后将使用的公共Docker注册表提要。点击<strong>保存</strong>。</p>

<p>将<strong>部署Azure应用服务</strong>步骤添加到您的项目流程中。</p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2022-01/deploy-an-azure-app-service-step/deploy-an-azure-app-service-step.png" class="zoom" data-title=""><img src="../Images/79823045fa79be5b3f2b6f73d08f4702.png" class="img-fluid center" alt="Octopus Azure deploy step" data-original-src="https://i.octopus.com/blog/2022-01/deploy-an-azure-app-service-step/deploy-an-azure-app-service-step.png"/>T2】</a></p>

<p>用以下值填充字段:</p>

<ul>
<li><strong>工作线程池</strong>——运行在特定工作线程池中的一个工作线程上:<code>Hosted Ubuntu</code></li>
<li><strong>代表</strong>——您在部署目标步骤中创建的角色(我的是<code>azure</code>)</li>
<li><strong>容器映像</strong>——在一个工作容器中运行:容器注册表:Docker映像:<code>octopusdeploy/worker-tools:3.2.0-ubuntu.18.04</code></li>
<li><strong>包</strong> -从容器部署映像包提要:docker包ID: <code>octopussamples/randomquotes</code></li>
</ul>

<p>在本例中，我们部署了一个托管在Docker Hub上的示例Docker映像。下图显示了我的配置结果。点击<strong>保存</strong>。</p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2022-01/deploy-an-azure-app-service-step/deploy-process-step-config.png" class="zoom" data-title=""><img src="../Images/852d0fea3f876ca6c251bb6dc079e681.png" class="img-fluid center" alt="Octopus Azure deploy step configuration" data-original-src="https://i.octopus.com/blog/2022-01/deploy-an-azure-app-service-step/deploy-process-step-config.png"/>T2】</a></p>

<p>点击<strong>创建版本</strong>，然后点击<strong>部署</strong>按钮，将Web应用部署到Azure。</p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2022-01/deploy-an-azure-app-service-step/deploy-success.png" class="zoom" data-title=""><img src="../Images/f1b6728b37299abfc647cb9a74cf45a9.png" class="img-fluid center" alt="Deploy Success" data-original-src="https://i.octopus.com/blog/2022-01/deploy-an-azure-app-service-step/deploy-success.png"/>T2】</a></p>

<h2 id="viewing-your-web-app">查看您的Web应用程序</h2>

<p>导航至您的网络应用程序的网址- <code>[your-url].azurewebsites.net</code></p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2022-01/deploy-an-azure-app-service-step/randomquotes.png" class="zoom" data-title=""><img src="../Images/c1bc10167499f4dee4f96af7e0020495.png" class="img-fluid center" alt="Random Quotes" data-original-src="https://i.octopus.com/blog/2022-01/deploy-an-azure-app-service-step/randomquotes.png"/>T2】</a></p>

<h2 id="conclusion">结论</h2>

<p>在本文中，您将使用新的<strong>部署Azure应用程序服务</strong>步骤建立一个Octopus部署项目来部署Web应用程序。</p>

<p>愉快的部署！</p>

                    
                    
</body>
</html>