<html>
<head>
<title>Exporting and importing projects between spaces - Octopus Deploy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在空间之间导出和导入项目- Octopus部署</h1>
<blockquote>原文：<a href="https://octopus.com/blog/exporting-projects#2021-08-12">https://octopus.com/blog/exporting-projects#2021-08-12</a></blockquote>
                        <p><a href="#" data-featherlight="https://i.octopus.com/blog/2021-06/exporting-projects/blogimage-project-bento-2021.png" class="zoom" data-title=""><img src="../Images/79fcbb934ab5ae2d826a16a7a7f973f0.png" class="img-fluid center" alt="octopus branded bento box filled with sushi" data-original-src="https://i.octopus.com/blog/2021-06/exporting-projects/blogimage-project-bento-2021.png"/>T2】</a></p>

<p>2021 Q2 Octopus Deploy版本包括一个新功能，使项目可以导出，然后导入到另一个空间，让您可以更多地控制如何组织您的Octopus实例。这也允许您轻松地将内部部署的Octopus项目迁移到Octopus Cloud。</p>

<p>在开发过程中，我们称之为项目便当，因为目标是为你的章鱼项目提供一个可移植的容器。</p>

<h2 id="spaces-and-octopus-cloud">空间和章鱼云</h2>

<p>Octopus 2019.1引入了<a href="https://octopus.com/docs/administration/spaces"> Spaces </a>，一种对你的Octopus服务器进行分区的方式。</p>

<p>我们没有包括在空间之间移动项目的功能，因为这个功能的设计和构建很复杂。对此的需求一直很强烈，反馈是，如果无法将现有项目划分为新的空间，空间的价值就会降低。</p>

<p>我们的客户解决方案团队通过<a href="https://github.com/OctopusDeployLabs/SpaceCloner" rel="nofollow"> Space Cloner </a>项目填补了这一空白，这是一个PowerShell脚本集合，用于帮助在空间之间进行复制。这在很多情况下都是有用的，但是也有局限性，因为它是通过HTTP API操作的，而不是现成的。</p>

<p>快进两年，人们还希望将项目从自托管的Octopus实例迁移到<a href="https://octopus.com/docs/octopus-cloud"> Octopus Cloud </a>。</p>

<p>2021年Q2发布版引入了导出和导入项目的能力，这是一个完全受支持的内置特性。</p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2021-06/exporting-projects/import-export-menu.png" class="zoom" data-title=""><img src="../Images/2a775c69cc87fc92f3768dd8d6c39d7d.png" class="img-fluid center" alt="Project Export/Import menu" data-original-src="https://i.octopus.com/blog/2021-06/exporting-projects/import-export-menu.png"/>T2】</a></p>

<h2 id="exporting-projects">导出项目</h2>

<p>您可以选择一个或多个项目进行导出，并且您需要提供一个密码来加密导出的数据，因为导出将包含敏感变量。</p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2021-06/exporting-projects/export-projects-page.png" class="zoom" data-title=""><img src="../Images/1306d88b1f1877a5e5f7461217c447c4.png" class="img-fluid center" alt="Export projects page" data-original-src="https://i.octopus.com/blog/2021-06/exporting-projects/export-projects-page.png"/></a>T2】</p>

<p>导出作为任务运行，并生成一个可以下载的zip文件。</p>

<h2 id="importing-projects">导入项目</h2>

<p>然后可以将zip文件导入到同一台Octopus服务器上的另一个空间、另一台服务器上，甚至是Octopus云实例上。</p>

<p><a href="#" data-featherlight="https://i.octopus.com/blog/2021-06/exporting-projects/import-projects-page.png" class="zoom" data-title=""><img src="../Images/7f4ee5c173e79ce0123110e352f80943.png" class="img-fluid center" alt="Import projects page" data-original-src="https://i.octopus.com/blog/2021-06/exporting-projects/import-projects-page.png"/>T2】</a></p>

<p>与导出类似，导入作为任务运行(大型导出可能需要一些时间)。</p>

<p>选定的项目及其所需的一切都包括在内:</p>

<ul>
<li>环境</li>
<li>房客</li>
<li>可变集合</li>
<li>步骤模板</li>
<li>帐目</li>
<li>证书</li>
</ul>

<p>注意<em>不包括</em>的内容也很重要:</p>

<ul>
<li><a href="https://octopus.com/docs/projects/export-import#deployment-targets">部署目标</a>。这些将需要在目标空间中重新配置，因为需要显式配置Tentacles来信任另一个Octopus服务器。</li>
<li><a href="https://octopus.com/docs/projects/export-import#packages">包</a>。自托管项目拥有数百千兆字节的包是很常见的。将这些包含在出口zip中是不切实际的。在许多情况下，不需要旧的包，构建服务器可以简单地指向新的Octopus服务器。对于需要包的情况，我们提供了一个<a href="https://github.com/OctopusDeploy/OctopusDeploy-Api/blob/master/REST/PowerShell/Feeds/SyncPackages.ps1" rel="nofollow">示例脚本</a>来演示通过Octopus API同步包。</li>
</ul>

<h2 id="when-to-use-the-project-exportimport-feature">何时使用项目导出/导入功能</h2>

<p>项目导出/导入特性的第一次迭代主要是为项目的一次性导入/导出而设计的。这在下列情况下很有用:</p>

<ul>
<li>将项目从自托管实例移动到Octopus Cloud。</li>
<li>在同一实例的两个空间之间移动项目，例如将一个空间拆分为多个空间时。</li>
</ul>

<p>这个迭代<em>没有</em>解决在空间之间重复移动项目的问题，例如测试升级或者将项目升级到一个安全的、隔离的Octopus实例。</p>

<p>这些场景在细微但重要的方面有所不同，通常需要不同的变量值、生命周期、租户等。，在实例之间进行维护。我们已经用这个特性为支持这些场景打下了基础，并希望在未来的版本中也能这样做。同时，<a href="https://octopus.com/docs/octopus-rest-api/octopus.migrator.exe-command-line">迁移器实用程序</a>仍然是一个有效的选项。</p>

<h2 id="conclusion">结论</h2>

<p>项目导出/导入功能现在在Octopus Cloud实例中可用，并且是可从<a href="https://octopus.com/downloads">下载页面</a>获得的2021.1版本的一部分。</p>

<p>该功能目前是一个早期版本，我们非常希望听到您的反馈。我们希望这能让项目从自托管迁移到Octopus Cloud变得简单而顺利。</p>

<h2 id="watch-the-webinar">观看网络研讨会</h2>

<iframe src="https://www.youtube.com/embed/Dm4vOwuo9GI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">VIDEO</iframe>

<p>我们定期举办网络研讨会。请参见<a href="https://octopus.com/events">网络研讨会第</a>页，了解过去的网络研讨会和即将举办的网络研讨会的详细信息。</p>

<p>愉快的部署！</p>

                    
                    
</body>
</html>