<html>
<head>
<title>Octopus Deploy 3.4 EAP - Beta 2 - Octopus Deploy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>八达通部署3.4 EAP - Beta 2 -八达通部署</h1>
<blockquote>原文：<a href="https://octopus.com/blog/octopus-deploy-3.4-eap-beta2#2016-08-24">https://octopus.com/blog/octopus-deploy-3.4-eap-beta2#2016-08-24</a></blockquote>
                        <p><strong> Octopus Deploy 3.4已经发货！阅读<a href="https://octopus.com/blog/octopus-deploy-3.4">博文</a>和<a href="https://octopus.com/downloads">今天就下载</a>！</strong></p>

<p>我们很自豪地宣布章鱼部署3.4测试版2的发布。除了一些小的改进和错误修复，我们认为这个版本的功能是完整的。还有时间参与Octopus Deploy 3.4的<a href="http://docs.octopusdeploy.com/display/ODEAP/Octopus+Deploy+EAP">早期访问计划(EAP) </a>和<a href="#feedback">让我们知道你的想法</a>！</p>

<p><strong>关注我们的<a href="https://octopus.com/blog/octopus34-blog-series-kickoff">微博系列</a>了解章鱼3.4的所有伟大特性！</strong></p>



<h2>Octopus Deploy 3.4 Beta 2有什么新功能？<a name="what-is-available"/></h2>

<p>在这个版本中，我们一直在3.4 Beta 1的基础上进行构建，对现有功能进行了改进，并完成了对NuGet 3的升级，增加了对SemVer 2和F#自定义脚本的支持。我们还完成了关于<code>octo.exe</code>和团队城市和VSTS扩展的工作，这样你就可以将3.4 Beta 2完全集成到你现有的构建管道中，包括所有新的Octopus 3.4特性。</p>

<p>你可以在我们的<a href="https://github.com/OctopusDeploy/Issues/issues?q=is%3Aclosed+is%3Aissue+milestone%3A3.4.0-beta002"> GitHub资源库</a>中看到3.4 Beta 2中修复了哪些bug，也可以随意看看大家一直在发帖的<a href="http://help.octopusdeploy.com/discussions/beta-testing-feedback">反馈</a>！此外，请查看我们的章鱼3.4 <a href="https://octopus.com/blog/octopus34-blog-series-kickoff">博客系列</a>以深入了解新功能和构建该版本的决策。</p>

<h3>多租户部署有什么新特性？<a name="multi-tenant-deployments"/></h3>

<p>除了小的改进和错误修复，我们已经完成了Octopus Deploy 3.4.0的多租户部署工作。请放心，我们将在未来几周和几个月内继续努力改进。</p>

<p>显著的变化和改进:</p>

<ul>
<li>您现在可以通过名称和标签搜索租户</li>
<li>global dashboard已更新，纠正了我们在显示您的项目/环境的租赁部署时犯的一些错误</li>
<li>多租户项目概述得到了改进，包括:<ul>
<li>改进的过滤</li>
<li>通过标签集进行分组的能力</li>
<li>能够部署到租户组，甚至特定环境中的所有租户</li>
<li>现在更容易理解哪些租户连接到了哪些环境</li>
</ul></li>
<li>我们改变了计算租户部署中包括哪些部署目标和帐户的方式，这将使设计租赁和非租赁托管场景变得更加容易:<ul>
<li>租用的部署使用租用的部署目标和帐户(带有某种类型的租户过滤器)。</li>
<li>未租用的部署使用未租用的部署目标和帐户(没有任何类型的租户过滤器)。</li>
</ul></li>
<li>我们还更新了所有的<a href="#updated-tools">工具和集成</a>，以便与租户合作- <a href="#updated-tools">看看</a>，看看你能做些什么</li>
</ul>

<p>开始多租户部署的最佳地方是我们的<a href="http://docs.octopusdeploy.com/display/OD/Multi-tenant+deployments">指南</a>。</p>

<h3>弹性和瞬态环境中的新特性？<a name="elastic-and-transient-environments"/></h3>

<p>除了小的改进和错误修复，我们已经完成了Octopus 3.4.0的弹性和瞬态环境支持工作。</p>

<p>显著的变化和改进:</p>

<ul>
<li>我们修复了一个错误,在手动部署后项目触发器会意外触发</li>
<li>我们使得在没有任何现有部署的情况下对全新的环境使用自动部署成为可能，这使您能够即时创建测试环境。这对于使用不可变的基础设施(将服务器视为“牛而不是宠物”)和测试特性分支非常有用。你可以在<a href="http://docs.octopusdeploy.com/display/OD/Immutable+Infrastructure">我们关于不可变基础设施的指南</a>中读到更多。</li>
<li>我们还更新了所有的<a href="#updated-tools">工具和集成</a>来处理弹性和瞬态环境- <a href="#updated-tools">看看</a>看看你能做什么</li>
</ul>

<p>从弹性和瞬态环境支持开始的最佳地方是我们的<a href="http://docs.octopusdeploy.com/display/OD/Elastic+and+Transient+Environments">指南</a>。</p>

<h3>F#脚本支持<a name="fsharp"/></h3>

<p>除了我们其他支持的脚本语言之外，你现在可以用F# ( <code>*.fsx</code>)编写<a href="http://docs.octopusdeploy.com/display/OD/Custom+scripts">定制脚本</a>。请看<a href="https://github.com/OctopusDeploy/Issues/issues/2549">这个GitHub问题</a>并且看一些<a href="https://fsharpforfunandprofit.com/posts/low-risk-ways-to-use-fsharp-at-work-2/">例子，看看作为你的部署的一部分，你可以用F#脚本</a>做什么。</p>

<h3>NuGet v3 <a name="nuget3"/></h3>

<p>我们已经替换了对NuGet的依赖。通过全面升级到NuGet 3，这意味着我们已经能够关闭一些长期的bug，并支持外部NuGet v3提要！更多信息见<a href="https://github.com/OctopusDeploy/Issues/issues/2428">本GitHub问题</a>。</p>

<h3>永远见2 <a name="semver2"/></h3>

<p>您现在可以在发行版和软件包中使用<a href="http://semver.org/spec/v2.0.0.html"> SemVer 2 </a>版本了！这将使得在构建和部署管道中使用SemVer 2变得更加容易，尤其是使用像<a href="https://gitversion.readthedocs.io/en/latest/why/"> GitVersion </a>这样的工具。</p>

<h3>更新的工具和集成<a name="updated-tools"/></h3>

<p>我们已经更新了<code>Octopus.Tentacle.exe</code>、<code>Octopus.Client</code> SDK、<code>octo.exe</code>以及<a href="http://docs.octopusdeploy.com/display/OD/TeamCity"> TeamCity </a>和<a href="http://docs.octopusdeploy.com/pages/viewpage.action?pageId=5669025"> VSTS </a>扩展。将这些更新的工具与Octopus Server 3.4结合使用，您现在可以:</p>

<ul>
<li><a href="http://docs.octopusdeploy.com/display/OD/Automating+Tentacle+installation">使用<code>Octopus.Tentacle.exe</code>和</a>自动注册触手:</li>
<li>使用<code>octo.exe</code>和构建服务器扩展来执行租用部署</li>
<li>使用<code>Octopus.Client</code> SDK自动化Octopus 3.4中的任何事情</li>
</ul>

<p>我们将在接下来的几周内更新文档。同时，您可以使用工具提供的帮助，或者<a href="#feedback">联系我们寻求支持或提供反馈</a>。</p>

<h3>将代理配置移至环境<a name="moved-proxy-configuration"/></h3>

<p>在Beta 2中，我们将监听触角的代理配置移到了环境区域。在Beta 1中，您需要授予用户系统管理员权限，以便他们可以管理触手代理配置。现在用户可以在被授予通常的<code>Proxy*</code>权限后管理触手代理配置。</p>

<p><img alt="Octopus web portal proxies configuration button" src="../Images/446f149bc43e36ae3d07cec5bd0a96af.png" data-original-src="https://i.octopus.com/blog/201607-proxies-HCJE.png"/></p>

<h2>重大变更和废弃通知<a name="breaking-changes"/></h2>

<h3>反对Azure部署目标<a name="deprecating-azure-targets"/></h3>

<p>我们开始反对支持<a href="http://docs.octopusdeploy.com/display/OD/Azure+Cloud+Service+Target"> Azure云服务</a>和<a href="http://docs.octopusdeploy.com/display/OD/Azure+Web+Apps"> Azure Web App </a>部署目标。</p>

<p>别担心，在Octopus 3.4中，你可以查看和编辑现有的Azure部署目标，并开始迁移它们以使用<a href="http://docs.octopusdeploy.com/display/OD/Deploying+a+package+to+an+Azure+Cloud+Service"> Azure云服务</a>和<a href="http://docs.octopusdeploy.com/display/OD/Deploying+a+package+to+an+Azure+Web+App"> Azure Web App </a>部署步骤和<a href="http://docs.octopusdeploy.com/display/OD/Cloud+Regions">云区域</a>。</p>

<p>在Octopus Deploy的未来版本中，我们将停止对Azure云服务和Azure Web App部署目标的支持。</p>

<h3>运行状况检查结果的更改</h3>

<p>我们为<a href="#elastic-and-transient-environments">弹性和瞬态环境</a>引入了一个新的属性<code>MachineResource.HealthStatus</code>，它可以是<code>Healthy</code>、<code>HealthyWithWarnings</code>、<code>Unhealthy</code>和<code>Unavailable</code>。在Octopus 3.4中，你可以继续使用现有的<code>MachineResource.Status</code>，它可以是<code>Online</code>或<code>Offline</code>，但是我们已经将<code>Status</code>属性标记为<code>Obsolete</code>，并将在未来的版本中删除它。</p>

<h3>触手已被修补，以配合章鱼3.4 <a name="breaking-tentacle"/></h3>

<p>如果你使用的是旧版本的触手，用Octopus 3.4注册一个全新的触手会失败。发生这种情况是因为老触手不理解<a href="http://docs.octopusdeploy.com/display/OD/Cloud+Regions">云区域</a>并且不能反序列化它们。我们已经修补了触手，以便在未来更能适应这种变化。</p>

<p><strong>注意</strong>:这个问题只影响<strong>向你的章鱼服务器注册新的触角</strong>。现有的触手将继续正常工作。</p>

<ul>
<li><strong>注册3.0.x触须(用于老年人。NET 4.0-only服务器)</strong>:请下载<a href="https://octopus.com/downloads/3.0.26">触手3.0.26 </a>已经打了补丁，可以和Octopus 3.4一起工作。</li>
<li><strong>注册新版本的触手</strong>:请开始使用a 3.4.x触手版本(我们推荐最新的)。</li>
</ul>

<h3>对内置存储库错误代码的更改</h3>

<p>当您将一个重复的包推送到<a href="http://docs.octopusdeploy.com/display/OD/Pushing+packages+to+the+Built-In+repository">内置的包仓库</a>时，我们现在将用HTTP状态码<code>409 Conflict</code>而不是<code>400 Bad Request</code>来响应。像<code>nuget.exe</code>这样的客户端只会显示HTTP状态代码，丢弃Octopus返回的原因，解释为什么这是一个错误的请求。在这种情况下使用<code>409 Conflict</code>会使诊断更容易。更多信息请参考<a href="https://github.com/OctopusDeploy/Issues/issues/2419">GitHub问题</a>。</p>

<h2>在我们发布Octopus 3.4之前还需要做些什么？<a name="leftovers"/></h2>

<p>除了与我们出色的Octopus社区合作提供反馈，我们还需要:</p>

<ul>
<li>继续充实我们的指南，帮助您充分利用这些新功能。</li>
<li>使用API为租户迁移到Octopus 3.4提供指导。</li>
<li>进一步提高具有数百个租户、环境和部署目标的大型安装的性能。</li>
</ul>

<h2>Octopus Deploy 3.4 Beta 2入门<a name="getting-started"/></h2>

<p>使用来宾帐户在我们的<a href="http://octopus34beta2.southeastasia.cloudapp.azure.com/"> 3.4 Beta 2演示服务器</a>上试用，或者联系我们的支持团队以获得提升的凭证。</p>

<p><strong>订阅Azure？</strong>你可以使用我们在Azure Marketplace新发布的<a href="https://azure.microsoft.com/en-us/marketplace/?term=Octopus+Deploy">模板，使用你自己的Azure订阅来建立一个完整的Octopus设置</a>。<em>这将在虚拟机上安装最新稳定版本的Octopus服务器，但是您可以使用远程桌面将Octopus服务器升级到EAP版本。最后，完成后，您可以轻松地删除整个资源组！</em></p>

<h3>想自己装？</h3>

<p>Octopus Deploy附带45天的企业试用许可。<a href="http://docs.octopusdeploy.com/display/ODEAP/Octopus+Deploy+EAP">下载Octopus 3.4 Beta 2 </a>版本，浏览发行说明。我们将支持从这些测试版升级到正式版的Octopus 3.4，但不支持降级到以前的Octopus版本。如果你想升级现有的Octopus服务器，不要忘记备份和测试你的数据库。否则，我们建议安装在试用服务器上。</p>

<h2>您的反馈确实很重要<a name="feedback"/></h2>

<p>请在我们的<a href="http://help.octopusdeploy.com/discussions/beta-testing-feedback">论坛</a>发表反馈并加入讨论。</p>

<p>来吧，参与进来，帮助我们构建迄今为止最好的Octopus部署。<em>部署愉快！</em></p>

                    
                    
</body>
</html>